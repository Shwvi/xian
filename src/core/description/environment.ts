import { IBattleContext, IStartBattleContext } from "../typing";
import { BaseDescriptionGenerator } from "./base";

export class EnvironmentDescriptionGenerator extends BaseDescriptionGenerator {
  protected templates = {
    // 天气描述模板
    weather: {
      晴朗: [
        "天空清澈如洗，灵气在阳光下流转",
        "和煦的阳光洒落，为战场增添几分温度",
        "碧空如洗，金色的阳光普照大地",
        "晴空万里，微风轻拂，带来丝丝清爽",
        "阳光明媚，空气中弥漫着淡淡的草木清香",
      ],
      阴雨: [
        "细雨绵绵，为战场蒙上一层水雾",
        "乌云密布，雨滴打在地面发出沉闷的声响",
        "暴雨倾盆，雨幕中隐约可见电光闪烁",
        "阴云压境，潮湿的空气中充满肃杀之气",
        "雨丝如帘，将整个战场笼罩在朦胧水气中",
      ],
      大雪: [
        "鹅毛大雪纷飞，为战场披上一层银装",
        "漫天飞雪中，两道身影若隐若现",
        "风雪交加，呼啸的寒风裹挟着雪花呼啸而过",
        "天地一片银白，雪花在空中飘舞",
        "冰天雪地之中，寒气逼人",
      ],
      狂风: [
        "劲风呼啸，卷起漫天尘土",
        "狂风怒号，树木摇曳不止",
        "飓风肆虐，空气中充满着躁动不安",
        "疾风骤起，卷起无数落叶盘旋而上",
        "狂风呼啸着掠过战场，带来阵阵凄厉之声",
      ],
    },

    // 时间描述模板
    timeOfDay: {
      黎明: [
        "晨曦微露，第一缕阳光穿透云层",
        "破晓时分，天地间充满着清新的气息",
        "东方泛起鱼肚白，晨光熹微",
        "晨星渐隐，天际露出曙光",
        "黎明时分，万物开始苏醒",
      ],
      正午: [
        "烈日当空，光芒似火般炙热",
        "正午时分，日光直射大地",
        "阳光正盛，空气因炎热而扭曲",
        "日轮当空照，万物皆显金光",
        "正午时分，光影分明",
      ],
      黄昏: [
        "夕阳西下，天际染上一片红霞",
        "暮色四合，最后一缕阳光洒在战场上",
        "落日余晖中，长影拖曳",
        "天边晚霞如火，为战场增添几分凄美",
        "日暮西山，残阳如血",
      ],
      深夜: [
        "月光如水，洒落在寂静的战场",
        "漆黑的夜空中繁星点点",
        "夜幕低垂，四周一片寂静",
        "深邃的夜色中，唯有刀光剑影闪烁",
        "月黑风高，杀机四伏",
      ],
    },

    // 地形描述模板
    terrain: {
      山巅: [
        "在这云雾缭绕的山巅之上",
        "险峻的山峰之巅，两位强者隔空对峙",
        "巍峨山顶，云海翻腾于脚下",
        "峰顶之上，寒风呼啸不止",
        "悬崖绝顶，一步之差便是万丈深渊",
      ],
      平原: [
        "广阔的平原上，战意弥漫",
        "一望无际的原野中，杀机暗藏",
        "空旷的平原之上，两道身影遥遥相对",
        "茫茫原野间，剑气纵横",
        "平坦的旷野上，战斗一触即发",
      ],
      森林: [
        "幽深的密林中，树影婆娑",
        "古老的森林里，枝叶沙沙作响",
        "茂密的林间，光影交错",
        "树林深处，暗藏杀机",
        "苍翠的林海中，剑气纵横",
      ],
      江河: [
        "奔腾的江水旁，剑气纵横",
        "滔滔江水中，波涛汹涌",
        "江面上水雾弥漫，剑影闪烁",
        "河岸边，激流声与剑鸣声交织",
        "江水滚滚，见证这场生死之战",
      ],
    },

    // 氛围描述模板
    atmosphere: {
      紧张: [
        "空气中弥漫着令人窒息的压迫感",
        "剑拔弩张的气氛让人不寒而栗",
        "肃杀之气弥漫，连空气都凝固了",
        "紧张的气氛仿佛凝成实质",
        "死一般的寂静中，杀机暗涌",
      ],
      激烈: [
        "战意沸腾，气势如虹",
        "激烈的战斗让天地变色",
        "狂暴的气息席卷四周",
        "战意冲天，气势如龙",
        "激战正酣，天地为之变色",
      ],
      平静: [
        "表面的平静下暗藏汹涌",
        "看似平静的气氛中蕴含着致命杀机",
        "死一般的寂静中蓄势待发",
        "平静的表象下是惊涛骇浪",
        "虚假的平静预示着暴风雨的来临",
      ],
      诡异: [
        "诡异的气氛让人毛骨悚然",
        "阴森可怖的氛围笼罩着战场",
        "诡谲的气息弥漫四周",
        "不详的预感在心头萦绕",
        "怪异的氛围中暗藏杀机",
      ],
    },
  };

  generate(context: IStartBattleContext): string {
    const weather = this.getRandomTemplate("weather", "阴雨");
    const timeOfDay = this.getRandomTemplate("timeOfDay", "黎明");

    return [weather, timeOfDay].join("，");
  }
}
